<h1>Airline Dashboard</h1>

<form (ngSubmit)="search()" class="form">
  <label>
    From (IATA)
    <input [(ngModel)]="from" name="from" maxlength="3" placeholder="ZRH" />
  </label>

  <label>
    To (IATA)
    <input [(ngModel)]="to" name="to" maxlength="3" placeholder="FRA" />
  </label>

  <label>
    Datum
    <input type="date" [(ngModel)]="date" name="date" />
  </label>

  <button type="submit" [disabled]="loading()">Suchen</button>
</form>

<div *ngIf="loading()">Laedt...</div>
<div *ngIf="error()" class="error">{{ error() }}</div>

<table *ngIf="rows().length">
  <thead>
  <tr>
    <th>Flug</th>
    <th>Abflug</th>
    <th>Ankunft</th>
    <th>Operator</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let r of rows()">
    <td>{{ r.flight }}</td>
    <td>{{ r.dep }}</td>
    <td>{{ r.arr }}</td>
    <td>{{ r.op }}</td>
  </tr>
  </tbody>
</table>

<pre *ngIf="raw() && !rows().length">{{ raw() | json }}</pre>
